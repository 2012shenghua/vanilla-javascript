<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>抽奖系统(键盘事件)</title>
	<style>
		*{
			margin:0;
			padding:0;
		}
		.title{
			width:300px;
			height:70px;
			margin:0 auto;
			text-align: center;
			font-size: 25px;
			line-height: 70px;
			color:red;
		}
		.btns{
			width:190px;
			height:50px;
			margin:0 auto;
		}
		.btns span{
			display: block;
			width:80px;
			height:30px;
			float: left;
			line-height: 30px;
			color:white;
			text-align: center;
			margin-right: 10px;
			background: green;
			border-radius: 5px;
		}
	</style>
</head>
<body>
	<div class="title" id="title">开始抽奖啦</div>
	<div class="btns">
		<span id="play">开始</span>
		<span id="stop">停止</span>
	</div>
</body>
<script src="./eventUtil.js"></script>
<script>
	var data=['iphone','ipad','windows phone','谢谢参与','ios','android','哈哈哈哈'],
		timer=null,
		flag=0,
		play=document.getElementById('play'),
		stop=document.getElementById('stop'),
		title=document.getElementById('title');
	window.onload=function(){
		eventUtil.addHandler(play,'click',playFun);
		eventUtil.addHandler(stop,'click',stopFun);
		//键盘事件
		eventUtil.addHandler(document,'keyup',function(e){
			e=eventUtil.getEvent(e);
			if(e.keyCode==13){
				if(flag==0){
					playFun();
					flag=1;
				}else{
					stopFun();
					flag=0;
				}
			}
		});
	}
	function playFun(){
		clearInterval(timer);
		timer=setInterval(function(){
		    var random=Math.floor(Math.random()*data.length);
		    title.innerHTML=data[random];
		},100);
		play.style.background="#999";
	}
	function stopFun(){
		clearInterval(timer);
		play.style.background="green";
	}
</script>
</html>